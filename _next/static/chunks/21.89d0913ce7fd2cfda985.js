(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[21],{1402:function(){!function(){var t=L.Polyline.prototype.onAdd,e=L.Polyline.prototype.onRemove,n=L.Polyline.prototype._updatePath,r=L.Polyline.prototype.bringToFront,o={onAdd:function(e){t.call(this,e),this._textRedraw()},onRemove:function(t){(t=t||this._map)&&this._textNode&&t._renderer._container&&t._renderer._container.removeChild(this._textNode),e.call(this,t)},bringToFront:function(){r.call(this),this._textRedraw()},_updatePath:function(){n.call(this),this._textRedraw()},_textRedraw:function(){var t=this._text,e=this._textOptions;t&&this.setText(null).setText(t,e)},setText:function(t,e){if(this._text=t,this._textOptions=e,!L.Browser.svg||"undefined"===typeof this._map)return this;if(e=L.Util.extend({repeat:!1,fillColor:"black",attributes:{},below:!1},e),!t)return this._textNode&&this._textNode.parentNode&&(this._map._renderer._container.removeChild(this._textNode),delete this._textNode),this;t=t.replace(/ /g,"\xa0");var n="pathdef-"+L.Util.stamp(this),r=this._map._renderer._container;if(this._path.setAttribute("id",n),e.repeat){var o=L.SVG.create("text");for(var a in e.attributes)o.setAttribute(a,e.attributes[a]);o.appendChild(document.createTextNode(t)),r.appendChild(o);var i=o.getComputedTextLength();r.removeChild(o),t=new Array(Math.ceil(isNaN(this._path.getTotalLength()/i)?0:this._path.getTotalLength()/i)).join(t)}var u=L.SVG.create("text"),s=L.SVG.create("textPath"),c=e.offset||this._path.getAttribute("stroke-width");for(var a in s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+n),u.setAttribute("dy",c),e.attributes)u.setAttribute(a,e.attributes[a]);if(s.appendChild(document.createTextNode(t)),u.appendChild(s),this._textNode=u,e.below?r.insertBefore(u,r.firstChild):r.appendChild(u),e.center){var l=u.getComputedTextLength(),f=this._path.getTotalLength();u.setAttribute("dx",f/2-l/2)}if(e.orientation){var p=0;switch(e.orientation){case"flip":p=180;break;case"perpendicular":p=90;break;default:p=e.orientation}var d=u.getBBox().x+u.getBBox().width/2,h=u.getBBox().y+u.getBBox().height/2;u.setAttribute("transform","rotate("+p+" "+d+" "+h+")")}if(this.options.interactive){!L.Browser.svg&&L.Browser.vml||s.setAttribute("class","leaflet-interactive");for(var v=["click","dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],m=0;m<v.length;m++)L.DomEvent.on(u,v[m],this.fire,this)}return this}};L.Polyline.include(o),L.LayerGroup.include({setText:function(t,e){for(var n in this._layers)"function"===typeof this._layers[n].setText&&this._layers[n].setText(t,e);return this}})}()},9021:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return A}});var r=n(5893),o=n(809),a=n.n(o);function i(t,e,n,r,o,a,i){try{var u=t[a](i),s=u.value}catch(c){return void n(c)}u.done?e(s):Promise.resolve(s).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function u(t){i(a,r,o,u,s,"next",t)}function s(t){i(a,r,o,u,s,"throw",t)}u(void 0)}))}}n(5152),n(4593);var s=n(7294);const c=(0,s.createContext)(null),l=c.Provider;function f(){const t=(0,s.useContext)(c);if(null==t)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function p(){return f().map}var d=n(5243);function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function v(t){let{children:e,className:n,id:r,placeholder:o,style:a,whenCreated:i,...u}=t;const c=(0,s.useRef)(null),f=function(t,e){const[n,r]=(0,s.useState)(null);return(0,s.useEffect)((()=>{if(null!==t.current&&null===n){const n=new d.Map(t.current,e);null!=e.center&&null!=e.zoom?n.setView(e.center,e.zoom):null!=e.bounds&&n.fitBounds(e.bounds,e.boundsOptions),null!=e.whenReady&&n.whenReady(e.whenReady),r(n)}}),[t,n,e]),n}(c,u),p=(0,s.useRef)(!1);(0,s.useEffect)((()=>{null!=f&&!1===p.current&&null!=i&&(p.current=!0,i(f))}),[f,i]),(0,s.useEffect)((()=>()=>{null==f||f.remove()}),[f]);const[v]=(0,s.useState)({className:n,id:r,style:a}),m=(0,s.useMemo)((()=>f?{__version:1,map:f}:null),[f]),x=m?s.createElement(l,{value:m},e):o??null;return s.createElement("div",h({},v,{ref:c}),x)}n(3935);function m(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function x(t){return function(e){const n=f(),r=t(m(e,n),n);return function(t,e){const n=(0,s.useRef)(e);(0,s.useEffect)((function(){e!==n.current&&null!=t.attributionControl&&(null!=n.current&&t.attributionControl.removeAttribution(n.current),null!=e&&t.attributionControl.addAttribution(e)),n.current=e}),[t,e])}(n.map,e.attribution),function(t,e){const n=(0,s.useRef)();(0,s.useEffect)((function(){return null!=e&&t.instance.on(e),n.current=e,function(){null!=n.current&&t.instance.off(n.current),n.current=null}}),[t,e])}(r.current,e.eventHandlers),function(t,e){(0,s.useEffect)((function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var n;null==(n=e.layerContainer)||n.removeLayer(t.instance),e.map.removeLayer(t.instance)}}),[e,t])}(r.current,n),r}}const y=function(t){function e(e,n){const{instance:r}=t(e).current;return(0,s.useImperativeHandle)(n,(()=>r)),null}return(0,s.forwardRef)(e)}(x(function(t,e){return null==e?function(e,n){return(0,s.useRef)(t(e,n))}:function(n,r){const o=(0,s.useRef)(t(n,r)),a=(0,s.useRef)(n),{instance:i}=o.current;return(0,s.useEffect)((function(){a.current!==n&&(e(i,n,a.current),a.current=n)}),[i,n,r]),o}}((function(t,e){let{url:n,...r}=t;return{instance:new d.TileLayer(n,m(r,e)),context:e}}),(function(t,e,n){const{opacity:r,zIndex:o}=e;null!=r&&r!==n.opacity&&t.setOpacity(r),null!=o&&o!==n.zIndex&&t.setZIndex(o)}))));n(1402);function b(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var g=function(){var t=u(a().mark((function t(e){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),_=function(){var t=u(a().mark((function t(e,n){var r,o,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=b(e),t.prev=1,i=a().mark((function t(){var e,r,i,u,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.value,t.next=3,g(e);case 3:r=t.sent,r.nodes,i=r.ways,u=r.relations,s=function(t){return t.length>0&&t[0]!==t[t.length-1]&&t.push(t[0]),t},Object.values(i).forEach((function(t){var e=s(t.nodes);if(e.length<3)console.error("Invalid polygon: ",e);else{var r=d.polygon(e.map((function(t){return[t[0],t[1]]})),{color:"#ff7800",fillColor:"#ff7800",fillOpacity:.5}).addTo(n);t.oldName&&r.bindTooltip(t.oldName,{permanent:!1,direction:"top"})}})),u.forEach((function(t){var e=d.polygon(s(t.outer.map((function(t){return[t[0],t[1]]}))),{color:"#ff7800",fillColor:"#ff7800",fillOpacity:.5}).addTo(n);if(t.oldName&&e.bindTooltip(t.oldName,{permanent:!1,direction:"top"}),t.inner.length>0){var r=d.polygon(s(t.inner.map((function(t){return[t[0],t[1]]}))),{color:"#ff7800",fillOpacity:.5}).addTo(n);t.oldName&&r.bindTooltip(t.oldName,{permanent:!1,direction:"top"})}}));case 8:case"end":return t.stop()}}),t)})),r.s();case 4:if((o=r.n()).done){t.next=8;break}return t.delegateYield(i(),"t0",6);case 6:t.next=4;break;case 8:t.next=13;break;case 10:t.prev=10,t.t1=t.catch(1),r.e(t.t1);case 13:return t.prev=13,r.f(),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])})));return function(e,n){return t.apply(this,arguments)}}(),k=function(){var t=u(a().mark((function t(e,n){var r,o,i,u;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=b(e),t.prev=1,r.s();case 3:if((o=r.n()).done){t.next=12;break}return i=o.value,t.next=7,g(i);case 7:u=t.sent,console.log("JSON Data:",u),u.ways?Object.values(u.ways).forEach((function(t){var e=t.nodes.map((function(t){return[t.lat,t.lon]}));if(console.log("Coordinates:",e),e.length>0){var r=d.polyline(e,{color:"black"}).addTo(n);console.log("Polyline:",r);var o=t.tags&&t.tags.old_name;console.log("Historical Name:",o),o&&r.setText(o,{repeat:!1,attributes:{"font-family":"Roboto, sans-serif","font-size":"16px",fill:"#ff7800","font-weight":"bold"},offset:5,center:!0})}else console.error("No coordinates found for way:",t)})):console.error("No ways found in JSON data:",u);case 10:t.next=3;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),r.e(t.t0);case 17:return t.prev=17,r.f(),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[1,14,17,20]])})));return function(e,n){return t.apply(this,arguments)}}(),N=[30.12511001,59.88747679,30.46576637,60.0010745],C=[[N[1],N[0]],[N[3],N[2]]],L=function(){var t=u(a().mark((function t(e){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:if((n=t.sent).ok){t.next=5;break}throw new Error("Network response was not ok");case 5:return t.next=7,n.json();case 7:return r=t.sent,t.abrupt("return",r.map((function(t){return"".concat(t)})));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){var t=p(),e=(0,s.useState)([]),n=e[0],r=e[1],o=(0,s.useState)([]),i=o[0],c=o[1];return(0,s.useEffect)((function(){(function(){var t=u(a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L("fileList.json");case 2:return e=t.sent,r(e),t.next=6,L("linesList.json");case 6:n=t.sent,c(n);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),(0,s.useEffect)((function(){n.length>0&&(_(n,t),k(i,t))}),[n,i,t]),null},A=function(){return(0,r.jsxs)(v,{bounds:C,style:{height:"100vh",width:"100%"},zoom:15,minZoom:15,maxZoom:19,children:[(0,r.jsx)(y,{url:"https://tiles.stadiamaps.com/tiles/stamen_toner_background/{z}/{x}/{y}{r}.{ext}",attribution:'\xa9 <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a> \xa9 <a href="https://www.stamen.com/" target="_blank">Stamen Design</a> \xa9 <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a> \xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',ext:"png"}),(0,r.jsx)(T,{})]})}},4593:function(){}}]);
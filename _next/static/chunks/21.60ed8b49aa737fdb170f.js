(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[21],{9021:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return N}});var r=e(5893),o=e(809),u=e.n(o);function a(n,t,e,r,o,u,a){try{var c=n[u](a),i=c.value}catch(s){return void e(s)}c.done?t(i):Promise.resolve(i).then(r,o)}function c(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var u=n.apply(t,e);function c(n){a(u,r,o,c,i,"next",n)}function i(n){a(u,r,o,c,i,"throw",n)}c(void 0)}))}}e(5152),e(4593);var i=e(7294);const s=(0,i.createContext)(null),l=s.Provider;function f(){const n=(0,i.useContext)(s);if(null==n)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function p(){return f().map}var d=e(5243);function m(){return(m=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}).apply(this,arguments)}function h(n){let{children:t,className:e,id:r,placeholder:o,style:u,whenCreated:a,...c}=n;const s=(0,i.useRef)(null),f=function(n,t){const[e,r]=(0,i.useState)(null);return(0,i.useEffect)((()=>{if(null!==n.current&&null===e){const e=new d.Map(n.current,t);null!=t.center&&null!=t.zoom?e.setView(t.center,t.zoom):null!=t.bounds&&e.fitBounds(t.bounds,t.boundsOptions),null!=t.whenReady&&e.whenReady(t.whenReady),r(e)}}),[n,e,t]),e}(s,c),p=(0,i.useRef)(!1);(0,i.useEffect)((()=>{null!=f&&!1===p.current&&null!=a&&(p.current=!0,a(f))}),[f,a]),(0,i.useEffect)((()=>()=>{null==f||f.remove()}),[f]);const[h]=(0,i.useState)({className:e,id:r,style:u}),v=(0,i.useMemo)((()=>f?{__version:1,map:f}:null),[f]),y=v?i.createElement(l,{value:v},t):o??null;return i.createElement("div",m({},h,{ref:s}),y)}e(3935);function v(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}function y(n){return function(t){const e=f(),r=n(v(t,e),e);return function(n,t){const e=(0,i.useRef)(t);(0,i.useEffect)((function(){t!==e.current&&null!=n.attributionControl&&(null!=e.current&&n.attributionControl.removeAttribution(e.current),null!=t&&n.attributionControl.addAttribution(t)),e.current=t}),[n,t])}(e.map,t.attribution),function(n,t){const e=(0,i.useRef)();(0,i.useEffect)((function(){return null!=t&&n.instance.on(t),e.current=t,function(){null!=e.current&&n.instance.off(e.current),e.current=null}}),[n,t])}(r.current,t.eventHandlers),function(n,t){(0,i.useEffect)((function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){var e;null==(e=t.layerContainer)||e.removeLayer(n.instance),t.map.removeLayer(n.instance)}}),[t,n])}(r.current,e),r}}const w=function(n){function t(t,e){const{instance:r}=n(t).current;return(0,i.useImperativeHandle)(e,(()=>r)),null}return(0,i.forwardRef)(t)}(y(function(n,t){return null==t?function(t,e){return(0,i.useRef)(n(t,e))}:function(e,r){const o=(0,i.useRef)(n(e,r)),u=(0,i.useRef)(e),{instance:a}=o.current;return(0,i.useEffect)((function(){u.current!==e&&(t(a,e,u.current),u.current=e)}),[a,e,r]),o}}((function(n,t){let{url:e,...r}=n;return{instance:new d.TileLayer(e,v(r,t)),context:t}}),(function(n,t,e){const{opacity:r,zIndex:o}=t;null!=r&&r!==e.opacity&&n.setOpacity(r),null!=o&&o!==e.zIndex&&n.setZIndex(o)}))));function b(n,t){var e;if("undefined"===typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=function(n,t){if(!n)return;if("string"===typeof n)return x(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return x(n,t)}(n))||t&&n&&"number"===typeof n.length){e&&(n=e);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,c=!1;return{s:function(){e=n[Symbol.iterator]()},n:function(){var n=e.next();return a=n.done,n},e:function(n){c=!0,u=n},f:function(){try{a||null==e.return||e.return()}finally{if(c)throw u}}}}function x(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var g=function(){var n=c(u().mark((function n(t){var e,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(t);case 2:return e=n.sent,n.next=5,e.json();case 5:return r=n.sent,n.abrupt("return",r);case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),k=function(){var n=c(u().mark((function n(t,e){var r,o,a;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=b(t),n.prev=1,a=u().mark((function n(){var t,r,a,c,i;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=o.value,n.next=3,g(t);case 3:r=n.sent,r.nodes,a=r.ways,c=r.relations,i=function(n){return n.length>0&&n[0]!==n[n.length-1]&&n.push(n[0]),n},Object.values(a).forEach((function(n){var t=i(n.nodes);if(t.length<3)console.error("Invalid polygon: ",t);else{var r=L.polygon(t.map((function(n){return[n[0],n[1]]})),{color:"#ff7800",fillColor:"#ff7800",fillOpacity:.5}).addTo(e);n.oldName&&r.bindTooltip(n.oldName,{permanent:!1,direction:"top"})}})),c.forEach((function(n){var t=L.polygon(i(n.outer.map((function(n){return[n[0],n[1]]}))),{color:"#ff7800",fillColor:"#ff7800",fillOpacity:.5}).addTo(e);if(n.oldName&&t.bindTooltip(n.oldName,{permanent:!1,direction:"top"}),n.inner.length>0){var r=L.polygon(i(n.inner.map((function(n){return[n[0],n[1]]}))),{color:"#ff7800",fillOpacity:.5}).addTo(e);n.oldName&&r.bindTooltip(n.oldName,{permanent:!1,direction:"top"})}}));case 8:case"end":return n.stop()}}),n)})),r.s();case 4:if((o=r.n()).done){n.next=8;break}return n.delegateYield(a(),"t0",6);case 6:n.next=4;break;case 8:n.next=13;break;case 10:n.prev=10,n.t1=n.catch(1),r.e(n.t1);case 13:return n.prev=13,r.f(),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[1,10,13,16]])})));return function(t,e){return n.apply(this,arguments)}}(),E=[30.12511001,59.88747679,30.46576637,60.0010745],C=[[E[1],E[0]],[E[3],E[2]]],O=function(){var n=c(u().mark((function n(){var t,e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("fileList.json");case 2:if((t=n.sent).ok){n.next=5;break}throw new Error("Network response was not ok");case 5:return n.next=7,t.json();case 7:return e=n.sent,n.abrupt("return",e.map((function(n){return"/".concat(n)})));case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),j=function(){var n=p(),t=(0,i.useState)([]),e=t[0],r=t[1];return(0,i.useEffect)((function(){(function(){var n=c(u().mark((function n(){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,O();case 2:t=n.sent,r(t);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[]),(0,i.useEffect)((function(){e.length>0&&k(e,n)}),[e,n]),null},N=function(){return(0,r.jsxs)(h,{bounds:C,style:{height:"100vh",width:"100%"},zoom:17,minZoom:17,maxZoom:19,children:[(0,r.jsx)(w,{url:"https://tiles.stadiamaps.com/tiles/stamen_toner_background/{z}/{x}/{y}{r}.{ext}",attribution:'\xa9 <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a> \xa9 <a href="https://www.stamen.com/" target="_blank">Stamen Design</a> \xa9 <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a> \xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',ext:"png"}),(0,r.jsx)(j,{})]})}},4593:function(){}}]);